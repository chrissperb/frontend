<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gest√£o de Estoque - Borbol√™lal√°</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="logo-container">
            <svg class="logo-svg" viewBox="0 0 100 40">
                <circle cx="20" cy="20" r="18" fill="#f8c8dc"/>
                <circle cx="50" cy="15" r="14" fill="#fef2a0"/>
                <circle cx="75" cy="22" r="17" fill="#d8c8f8"/>
                <text x="5" y="25" class="logo-text">Borbol√™lal√°</text>
            </svg>
            <h1>Gest√£o de Estoque</h1>
        </div>
    </header>

    <main>
        <div id="main-view">
            <div class="actions-container">
                <input type="text" id="searchInput" placeholder="Buscar por nome ou categoria...">
                <div class="actions-buttons">
                    <div class="dropdown">
                        <button id="reportsBtn" class="btn-secondary">Relat√≥rios ‚ñæ</button>
                        <div class="dropdown-content">
                            <a href="#" id="lowStockReportBtn">Estoque Baixo</a>
                            <a href="#" id="categoryReportBtn">Produtos por Categoria</a>
                        </div>
                    </div>
                    <button id="saleBtn" class="btn-success">üõí Registrar Venda</button>
                    <button id="addProductBtn" class="btn-primary">
                        <span class="icon">+</span> Adicionar Produto
                    </button>
                </div>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome do Produto</th>
                            <th>Categoria</th>
                            <th>Quantidade</th>
                            <th>Pre√ßo Unit√°rio</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="products-table-body"></tbody>
                </table>
            </div>
        </div>

        <div id="report-view" style="display: none;">
            <div class="report-header">
                <h2 id="report-title"></h2>
                <button id="backToMainViewBtn" class="btn-secondary">‚Üê Voltar</button>
            </div>
            <div id="report-content" class="table-container"></div>
        </div>
    </main>
    
    <div id="product-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="modal-title">Adicionar Novo Produto</h2>
            <form id="product-form">
                <input type="hidden" id="productId">
                <div class="form-group">
                    <label for="productName">Nome do Produto</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label for="productCategory">Categoria</label>
                    <input type="text" id="productCategory" required>
                </div>
                <div class="form-group">
                    <label for="productQuantity">Quantidade Inicial</label>
                    <input type="number" id="productQuantity" required min="0">
                </div>
                <div class="form-group">
                    <label for="productPrice">Pre√ßo (R$)</label>
                    <input type="number" id="productPrice" required step="0.01" min="0.01">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancelBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="stock-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="stock-modal-title">Movimentar Estoque</h2>
            <p>Produto: <strong id="stock-product-name"></strong></p>
            <p>Quantidade Atual: <strong id="stock-product-quantity"></strong></p>
            <div class="form-group">
                <label for="stockQuantity">Quantidade a Movimentar</label>
                <input type="number" id="stockQuantity" min="1">
            </div>
            <div class="modal-actions">
                 <button type="button" class="btn-secondary" id="cancelStockBtn">Cancelar</button>
                 <button class="btn-success" id="stockInBtn">Registrar Entrada</button>
                 <button class="btn-danger" id="stockOutBtn">Registrar Sa√≠da</button>
            </div>
        </div>
    </div>

    <div id="sale-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content modal-lg">
            <h2>Registrar Nova Venda</h2>
            <div class="sale-grid">
                <div class="sale-products">
                    <div class="form-group">
                        <label for="saleProductSearch">Buscar e adicionar produto</label>
                        <input type="text" id="saleProductSearch" placeholder="Digite o nome do produto...">
                        <div id="sale-search-results"></div>
                    </div>
                    <div class="table-container sale-items-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Qtd.</th>
                                    <th>Subtotal</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="sale-items-body"></tbody>
                        </table>
                    </div>
                </div>
                <div class="sale-summary">
                    <h3>Resumo da Venda</h3>
                    <div id="summary-content">
                        <p>Total de Itens: <span id="summary-total-items">0</span></p>
                        <p class="summary-total-price">Total: <span id="summary-total-price">R$ 0,00</span></p>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" id="cancelSaleBtn">Cancelar</button>
                        <button type="button" class="btn-success" id="finalizeSaleBtn">Finalizar Venda</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>